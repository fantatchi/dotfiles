# 作業履歴の記録

今回のセッションで行った作業を振り返り、Obsidian Vaultに記録を残してください。

## 書き出し先

`$OBSIDIAN_VAULT/_ClaudeLogs/`

※ 環境変数 `OBSIDIAN_VAULT` が設定されていない場合はエラーを表示し、設定方法を案内すること。

## ファイル名

- 手動記録: `YYYY-MM-DD_HHmm_簡潔な作業概要.md`
- 自動記録: `YYYY-MM-DD_HHmm_簡潔な作業概要_auto.md`

（日本語OK、スペースはハイフンに置換）

## 引数の扱い

$ARGUMENTS が渡される。

- スペース区切りでそれぞれを tags に追加する
- 例: `/log backend auth` → tags: claude-log, backend, auth, ...
- 引数が空の場合は `claude-log` のみ＋自動生成タグ

## タグの自動生成

引数のタグに加え、作業内容から関連タグを自動生成して追加する。

- 使用した言語・フレームワーク（例: typescript, react, python）
- 作業の種類（例: bugfix, refactor, feature, docs, config）
- 対象領域（例: api, ui, db, auth, test）

ルール：
- `claude-log` は常に含める
- 引数タグ＋自動生成タグの合計が最大5個になるようにする（claude-log は数に含めない）
- 引数タグを優先し、残り枠を自動生成で埋める

## 出力フォーマット

以下のフォーマットで書き出すこと：

```
---
tags:
  - claude-log
  - （自動生成タグ・引数タグをここに追加）
date: YYYY-MM-DD
---

## 概要

（1-2行で何をしたか）

## 作業ログ

- HH:MM ユーザーから○○の依頼を受けた
- HH:MM △△の方針で進めることにした（理由: ～）
- HH:MM `path/to/file.ts` を作成。○○の処理を実装
- HH:MM `path/to/other.ts` を修正。△△を変更（理由: ～）
- HH:MM テスト実行 → ○件パス、△件失敗
- HH:MM 失敗したテストを修正。原因は～
- HH:MM 全テストパス。作業完了

## 残課題

- [ ] （あれば。なければこのセクションごと省略）
```

### 作業ログの書き方ルール

- セッションの流れを時系列順に箇条書きで書く
- 各項目に時刻（HH:MM）を付ける。正確な時刻がわからなければ推定でよい
- ファイルパスはバッククォートで囲む
- 判断や方針を決めた箇所では理由も添える
- エラーや試行錯誤があればそのまま書く（成功した結果だけにしない）
- 粒度は「1つの意味ある操作」単位。コマンド1つ1つではなく、まとまりで書く

## 注意事項

- セッション全体を振り返ってから書くこと
- diffの羅列ではなく、人間が後から読んで文脈がわかるように書くこと
- 書き出し先ディレクトリが存在しない場合は作成すること
