# スキル ベストプラクティス チェックリスト

## 1. フロントマター（YAML）

### name

- [ ] 64文字以内である
- [ ] 小文字、数字、ハイフンのみ使用している
- [ ] 曖昧な名前を避けている（`helper`, `utils`, `tools` は NG）
- [ ] 予約語を含まない（`anthropic`, `claude` は NG）

### description

- [ ] 空でない
- [ ] 1024文字以内である
- [ ] スキルが**何をするか**を説明している
- [ ] スキルを**いつ使うべきか**を説明している
- [ ] ユーザーが自然に言いそうなトリガーワードを含んでいる（日本語で「〜したい」「〜して」等）
- [ ] 具体的なファイル形式やタスクタイプを明示している（該当する場合）

### argument-hint

- [ ] 引数を受け取るスキルには設定されている
- [ ] 引数の形式がわかる表記になっている（例: `[タグ...]`, `[ファイルパス]`）

### disable-model-invocation

- [ ] ファイル書き出し・外部API呼び出し等の副作用があるスキルは `true` に設定している
- [ ] 自動呼び出しが必要なスキルは意図的に未設定であることをコメントで明示している

### allowed-tools

- [ ] スキルが使用するツールが明示的に列挙されている
- [ ] 不要なツールへのアクセスを制限している

### その他

- [ ] `user-invocable: false` が適切に使われている（背景知識スキルの場合）
- [ ] `context: fork` が検討されている（重いスキルの場合）

## 2. SKILL.md ボディ

### 簡潔さ

- [ ] 500行以下である
- [ ] Claude が既に知っている一般知識を繰り返していない
- [ ] 冗長な説明より簡潔な例を優先している
- [ ] 各情報がトークンコストに見合う価値がある

### 構造

- [ ] 明確なセクション分けがある
- [ ] 「いつ使うか」はボディではなく description に書かれている
- [ ] 長いスキル（200行超）は目次またはナビゲーションがある

### サポートファイルの活用（Progressive Disclosure）

- [ ] 出力フォーマットは `template.md` に分離されている
- [ ] 用語集・リファレンスは別ファイルに分離されている
- [ ] サポートファイルへの参照が SKILL.md 内に明示されている
- [ ] 参照ファイルの用途が説明されている

## 3. ワークフロー

### ワークフロー設計

- [ ] 複雑な操作は明確な順序のステップに分解されている
- [ ] 条件分岐が明確に記述されている
- [ ] 決定ポイントで明示的なガイダンスがある

### バリデーション

- [ ] 重要な操作の前に前提条件のチェックがある（環境変数の存在確認等）
- [ ] エラー時の対処方法が記述されている
- [ ] ディレクトリが存在しない場合の作成指示がある（ファイル書き出しスキルの場合）

## 4. コンテンツ品質

### 用語と言語

- [ ] 一貫した用語を使用している（同義語の混在を避ける）
- [ ] 命令形で記述している
- [ ] 時間に敏感な情報を含まない

### 例とテンプレート

- [ ] 具体的な入出力例がある
- [ ] テンプレートのデータ形式が strict（構造化データ）か flexible（自由記述）か適切に選択されている

### 引数の扱い

- [ ] `$ARGUMENTS` の解釈ルールが明確に定義されている
- [ ] 引数が空の場合のデフォルト動作が定義されている
- [ ] 引数の例が記載されている

## 5. CLAUDE.md との整合性

- [ ] CLAUDE.md とスキル間で情報が重複していない（Single Source of Truth）
- [ ] CLAUDE.md 側はトリガー条件のみ、スキル側は実行詳細という分担になっている
- [ ] 自動呼び出しのトリガー条件が CLAUDE.md に明記されている（該当する場合）

## 6. アンチパターン（避けるべきこと）

- [ ] デフォルトなしで多くの選択肢を提示していない
- [ ] Windows スタイルのパス（`\`）を使用していない
- [ ] 曖昧な description やスキル名を使用していない
- [ ] 深くネストしたファイル参照がない（1階層まで）
- [ ] マジック定数を説明なしで使用していない
- [ ] スクリプトでエラー条件を処理し忘れていない
- [ ] 一貫性のない用語を使用していない
- [ ] SKILL.md と CLAUDE.md で同じルールを二重管理していない

## 重大度分類

### Critical（必須修正）

スキルの正常な機能を妨げる問題：

- description が空または不十分
- ボディが500行を大幅に超過
- 副作用のあるスキルで `disable-model-invocation` が未設定
- 前提条件（環境変数等）のチェックがない
- セキュリティ上の問題がある

### Warning（推奨修正）

スキルの効果を低下させる問題：

- サポートファイル（Progressive Disclosure）が活用されていない
- `argument-hint` が未設定
- `allowed-tools` が未設定
- CLAUDE.md との情報重複がある
- 例が不十分
- 用語の一貫性がない

### Info（改善提案）

改善の機会：

- より簡潔にできる箇所がある
- 構造を改善できる
- 追加の例があると良い
- 動的コンテキスト注入（`!`command``）が活用できる
