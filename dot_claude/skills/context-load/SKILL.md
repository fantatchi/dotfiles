---
name: context-load
description: 保存済みのプロジェクトコンテキストを読み込み、前回の作業状態を復帰する。セッション開始時に使う。
disable-model-invocation: true
allowed-tools: Read, Glob, Grep, Bash(git *), Bash(echo *), Bash(basename *)
---

# コンテキスト読み込み

保存済みのプロジェクトコンテキストを読み込み、前回の作業状態を復帰する。

## 読み込み元

プロジェクトルートの `.claude/context.md`

### プロジェクトルートの決定

1. `git rev-parse --show-toplevel` でリポジトリルートを取得
2. git リポジトリ外の場合は CWD をプロジェクトルートとする

### ファイルが存在しない場合

「コンテキストが保存されていません。`/context-save` で保存してください。」と案内して終了。

## 読み込み処理

### 1. コンテキストファイルの読み込み

`{project-root}/.claude/context.md` を読み込み、内容を把握する。

### 2. 現在の git 状態との比較

保存時と現在の状態を比較し、差分があれば警告する：

- ブランチが異なる場合: 「保存時のブランチ: `xxx` → 現在: `yyy`」
- 未コミットの変更がある場合: 注意喚起
- 保存時以降に新しいコミットがある場合: その旨を表示

### 3. コンテキストの提示

読み込んだ情報を整理して提示する：

```
## 前回のコンテキスト

**最終更新**: YYYY-MM-DD HH:mm
**ブランチ**: feature/xxx

### プロジェクト概要
（概要）

### 進行中の作業
（作業内容）

### 次のステップ
（次のアクション）

### 状態の変化（差分がある場合のみ）
（差分の詳細）

```

## 注意事項

- 読み込み専用。コンテキストファイルを変更しない
- パスはプロジェクトルートからの相対パスで記録されているため、現在のマシンのパスと異なる場合がある
