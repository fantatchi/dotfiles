---
name: obsidian-blog
description: 技術ブログのドラフトを作成し Obsidian Vault に保存する。「ブログ書いて」「この作業をブログにまとめて」「記事のドラフト作って」といった依頼や、/obsidian-blog で呼び出す。セッション内容からの自動ドラフト化も対応。
argument-hint: [テーマ or "auto"]
allowed-tools: Read, Write, Glob, Bash(mkdir *)
disable-model-invocation: true
---

# ブログドラフト作成

技術ブログのドラフトを作成し、Obsidian Vault に保存する。

## 書き出し先

`$OBSIDIAN_VAULT/_BlogDrafts/`

※ 環境変数 `OBSIDIAN_VAULT` が未設定ならエラーを表示し、設定方法を案内する。

## ファイル名

`YYYY-MM-DD_簡潔なタイトル.md`（日本語OK、スペースはハイフンに置換）

## 出力フォーマット

`./template.md` の frontmatter 構造に従う。`draft: true` を常に付ける。

## ワークフロー

引数 `$ARGUMENTS` で分岐する。

### 引数が `auto` の場合 — セッション内容から自動生成

1. セッションの作業内容を振り返る
2. ブログ記事になりそうなトピックを特定する
3. ドラフトを生成して保存する
4. 「ドラフトを作成しました: （ファイル名）」と通知する

### 引数がテーマ指定の場合 — 対話で構成を決めてから生成

1. テーマを受け取る
2. 以下を提案して確認を取る：
   - 記事タイトル案（2-3案）
   - 想定する見出し構成
   - 記事の切り口・ポイント
3. 承認を得てからドラフトを生成する

### 引数なしの場合

「テーマを指定するか、`auto` でセッション内容から自動生成できます」と案内する。

## 記事の書き方

- トーン: カジュアルで読みやすい技術記事
- 読者: 幅広いエンジニア（専門用語は必要に応じて補足）
- 構成の目安:
  - 導入: なぜこの記事を書いたか・何が得られるか
  - 本文: 手順・解説・コード例
  - まとめ: 要点の整理
- コードブロックには言語指定を付ける
- 長すぎない段落を心がける
- Hugo 用なのでショートコードは使わず標準 Markdown で書く

## タグ・カテゴリの付け方

frontmatter の tags には記事内容から適切なものを 3-5 個選ぶ。

例: nodejs, volta, nvm, migration, devtools

categories は記事の大分類を 1 つ選ぶ。[references/categories.md](references/categories.md) の一覧から選択する。該当するカテゴリがなければ新規作成し、一覧にも追加する。

## 注意事項

- 書き出し先ディレクトリが存在しない場合は作成する
- 既存ファイルがある場合は上書きせず確認する
